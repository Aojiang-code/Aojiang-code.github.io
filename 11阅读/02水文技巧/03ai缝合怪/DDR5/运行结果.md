## ResNet
### baseline
实例49
[epoch 100] train_loss: 0.359  train_acc: 0.865  val_accuracy: 0.857
Precision: 0.848, Recall: 0.857, F1 Score: 0.851
### SWH_01_train_resnet_DDR5_Adam_L2
实例50
[epoch 100] train_loss: 0.646  train_acc: 0.759  val_accuracy: 0.815
### SWH_01_train_resnet_DDR5_Adam_L2_CE
实例51

### train_resnet_DDR5_L2_CE
实例52


## ResNet_Bo

为了较快地查看结果，使用的不是南开大学提供的数据集，而是03_new这个小数据集。


### 模型构造

'''
001
ResNet_Bo_hlfd
将HLFD缝进主干网络的第一个卷积之后、第二个卷积之前,这里将ResNet_Bo_hlfd(Bottleneck_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1中使用Bottleneck_hlfd，其余依旧使用Bottleneck
'''

'''
002
ResNet_Bo1_hlfd
将HLFD缝进主干网络的第一个卷积之后、第二个卷积之前,这里将ResNet_Bo_hlfd(Bottleneck_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1、layer2中使用Bottleneck_hlfd，其余依旧使用Bottleneck
'''

'''
003失败
ResNet_Bo2_hlfd
将HLFD缝进主干网络的第一个卷积之后、第二个卷积之前,这里将ResNet_Bo_hlfd(Bottleneck_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1、layer2、layer3中使用Bottleneck_hlfd，其余依旧使用Bottleneck
'''


'''
004失败
ResNet_Bo3_hlfd
将HLFD缝进主干网络的第一个卷积之后、第二个卷积之前,这里将ResNet_Bo_hlfd(Bottleneck_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1、layer2、layer3、layer4中使用Bottleneck_hlfd，其余依旧使用Bottleneck
'''


**003和004失败的原因是HLFD自身不能计算尺寸为28的张量，而ResNet中恰好有。**


'''
005
ResNet_Bo_hlfd1
在001的基础上添加三层HLFD，别名001_hlfd1
将HLFD缝进主干网络的第一个卷积之后、第二个卷积之前,这里将ResNet_Bo_hlfd(Bottleneck_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1中使用Bottleneck_hlfd，其余依旧使用Bottleneck
将HLFD缝进主干网络，在此基础上，添加三层HLFD到前向传播
'''

'''
006
ResNet_Bo1_hlfd1
在002的基础上添加三层HLFD，别名002_hlfd1
将HLFD缝进主干网络的第一个卷积之后、第二个卷积之前,这里将ResNet_Bo_hlfd(Bottleneck_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1、layer2中使用Bottleneck_hlfd，其余依旧使用Bottleneck
按照上述计划将HLFD缝进主干网络后，在此基础上，添加三层HLFD到前向传播
'''

'''
007
008
'''

'''
007失败
ResNet_Bo2_hlfd1
在003的基础上添加三层HLFD，别名003_hlfd1
将HLFD缝进主干网络的第一个卷积之后、第二个卷积之前,这里将ResNet_Bo_hlfd(Bottleneck_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1、layer2、layer3中使用Bottleneck_hlfd，其余依旧使用Bottleneck
'''


'''
008失败
ResNet_Bo3_hlfd1
在004的基础上添加三层HLFD，别名004_hlfd1
将HLFD缝进主干网络的第一个卷积之后、第二个卷积之前,这里将ResNet_Bo_hlfd(Bottleneck_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1、layer2、layer3、layer4中使用Bottleneck_hlfd，其余依旧使用Bottleneck
'''


'''
007和008失败的原因：003和004失败的原因是HLFD自身不能计算尺寸为28的张量，而ResNet中恰好有。
'''


'''
小节
下面开始添加RFD
由于主干网络没有下采样操作，只有前向传播中有，所以将RFD添加到前向传播中，一共添加三次
'''

'''
009
ResNet_Bo_hlfd_rfd
在001的基础上进行修改，在主干网络中增加低频下采样与高频下采样
将HLFD缝进主干网络的第一个卷积之后、第二个卷积之前,这里将ResNet_Bo_hlfd(Bottleneck_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1中使用Bottleneck_hlfd，其余依旧使用Bottleneck
由于DRFD只是将输入的尺寸除以2，与原downsample的步长一致，所以为了方便，这里只是用DRFD，而且是直接使用3次，替代前向传播中的所有下采样操作
'''

'''
010
ResNet_Bo1_hlfd_rfd
将HLFD缝进主干网络的第一个卷积之后、第二个卷积之前,这里将ResNet_Bo_hlfd(Bottleneck_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1、layer2中使用Bottleneck_hlfd，其余依旧使用Bottleneck

由于DRFD只是将输入的尺寸除以2，与原downsample的步长一致，所以为了方便，这里只是用DRFD，而且是直接使用3次，替代前向传播中的所有下采样操作
'''


'''
011失败
012失败
因为003和004失败
'''

'''
小节
上述使用的都是将HLFD缝进主干网络的第一个卷积之后、第二个卷积之前，下述代码将会构造新的Bottleneck，
将HLFD缝进主干网络的第二个卷积之后、第三个卷积之前，下述代码将会构造新的Bottleneck，名称为Bottleneck_hlfd,即将Bottleneck_hlfd替换为Bottleneck12_hlfd
草稿存放在AAA.py
'''



'''
013
ResNet_Bo12_hlfd
将HLFD缝进主干网络的第二个卷积之后、第三个卷积之前,这里将ResNet_Bo12_hlfd(Bottleneck_12_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1中使用Bottleneck_12_hlfd，其余依旧使用Bottleneck
'''

'''
014
ResNet_Bo12_2y_hlfd
将HLFD缝进主干网络的第二个卷积之后、第三个卷积之前,这里将ResNet_Bo12_hlfd(Bottleneck_12_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1、layer2中使用Bottleneck_12_hlfd，其余依旧使用Bottleneck
'''

'''
017
ResNet_Bo12_hlfd1
在013的基础上添加三层HLFD，别名013_hlfd1
将HLFD缝进主干网络的第二个卷积之后、第三个卷积之前,这里将ResNet_Bo12_hlfd(Bottleneck_12_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1中使用Bottleneck_12_hlfd，其余依旧使用Bottleneck
将HLFD缝进主干网络，在此基础上，添加三层HLFD到前向传播
'''


'''
018
ResNet_Bo12_2y_hlfd1
在014的基础上添加三层HLFD，别名014_hlfd1
将HLFD缝进主干网络的第二个卷积之后、第三个卷积之前,这里将ResNet_Bo12_hlfd(Bottleneck_12_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1、layer2中使用Bottleneck_12_hlfd，其余依旧使用Bottleneck
按照上述计划将HLFD缝进主干网络后，在此基础上，添加三层HLFD到前向传播
'''




'''
019失败
ResNet_Bo122_hlfd1
在015的基础上添加三层HLFD，别名015_hlfd1
将HLFD缝进主干网络的第二个卷积之后、第三个卷积之前,这里将ResNet_Bo12_hlfd(Bottleneck_12_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1、layer2、layer3中使用Bottleneck_12_hlfd，其余依旧使用Bottleneck
'''


'''
020失败
ResNet_Bo123_hlfd1
在016的基础上添加三层HLFD，别名016_hlfd1
将HLFD缝进主干网络的第二个卷积之后、第三个卷积之前,这里将ResNet_Bo12_hlfd(Bottleneck_12_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1、layer2、layer3、layer4中使用Bottleneck_12_hlfd，其余依旧使用Bottleneck
'''


'''
019和020失败的原因：015和016失败的原因是HLFD自身不能计算尺寸为28的张量，而ResNet中恰好有。
'''

'''
小节
下面开始添加RFD
由于主干网络没有下采样操作，只有前向传播中有，所以将RFD添加到前向传播中，一共添加三次
'''

'''
021
将HLFD缝进主干网络的第二个卷积之后、第三个卷积之前,这里将ResNet_Bo12_hlfd(Bottleneck_12_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1中使用Bottleneck_12_hlfd，其余依旧使用Bottleneck
由于DRFD只是将输入的尺寸除以2，与原downsample的步长一致，所以为了方便，这里只是用DRFD，而且是直接使用3次，替代前向传播中的所有下采样操作
'''

'''
022
将HLFD缝进主干网络的第二个卷积之后、第三个卷积之前,这里将ResNet_Bo12_hlfd(Bottleneck_12_hlfd, [3, 4, 6, 3], num_classes=num_classes, include_top=include_top)中的layer1、layer2中使用Bottleneck_12_hlfd，其余依旧使用Bottleneck

由于DRFD只是将输入的尺寸除以2，与原downsample的步长一致，所以为了方便，这里只是用DRFD，而且是直接使用3次，替代前向传播中的所有下采样操作
'''


'''
023失败
024失败
因为015和016失败
'''




| 模型 | 训练集loss | 训练集准确性 | 验证集准确性 | 验证集精确性 | 验证集召回率 | 验证集F1值 | 备注 | 编号 |
|----------|----------|----------|----------|----------|----------|----------|----------|----------|
| ResNet | <span style="color:black;">0.242</span> | <span style="color:black;">0.908</span> | <span style="color:black;">0.762</span> | <span style="color:black;">0.760</span> | <span style="color:black;">0.762</span> | <span style="color:black;">0.755</span> | baseline | L2 |
| ResNet_HLFD1 | <span style="color:red;">0.541</span> | <span style="color:green;">0.783</span> | <span style="color:red;">0.800</span> | <span style="color:red;">0.797</span> | <span style="color:red;">0.800</span> | <span style="color:red;">0.798</span> | 提升4% | HLFD1 |
| ResNet_Bo_hlfd | <span style="color:red;">0.582</span> | <span style="color:green;">0.770</span> | <span style="color:red;">0.782</span> | <span style="color:red;">0.779</span> | <span style="color:red;">0.782</span> | <span style="color:red;">0.776</span> | 提升4% | 001 |
| resnet_Bo_hlfd1 | <span style="color:red;">0.515</span> | <span style="color:green;">0.801</span> | <span style="color:red;">0.822</span> | <span style="color:red;">0.818</span> | <span style="color:red;">0.822</span> | <span style="color:red;">0.819</span> | 提升4% |002|
| resnet_Bo1_hlfd | <span style="color:red;">0.593</span> | <span style="color:green;">0.765</span> | <span style="color:red;">0.796</span> | <span style="color:red;">0.794</span> | <span style="color:red;">0.796</span> | <span style="color:red;">0.785</span> | 提升4% |003 |
| resnet_Bo1_hlfd1 | <span style="color:red;">0.555</span> | <span style="color:green;">0.784</span> | <span style="color:red;">0.789</span> | <span style="color:red;">0.787</span> | <span style="color:red;">0.789</span> | <span style="color:red;">0.782</span> | 第78轮 | 004|

### 表格绘制策略

列名为验证集性能，计算方法是验证集准确性+验证集精确性+验证集召回率+验证集F1值的总和求平均
针对变化这一列的计算如下，它是这一行中，验证集准确性+验证集精确性+验证集召回率+验证集F1值的总和减去ResNet 的验证集准确性+验证集精确性+验证集召回率+验证集F1值的总和后的均值，数值大于0，则为暖色，数值越大，则暖色越深，小于0则为冷色

要求ResNet 行的所有数值设置为黑色，其他行中的数值根据与 ResNet 行的比较，大于的为暖色，数值越大，则暖色越强，小于的为冷色，数值越小则冷色越强


### 表格汇总

| 模型 | 训练集loss | 训练集准确性 | 验证集准确性 | 验证集精确性 | 验证集召回率 | 验证集F1值 | 验证集性能 | 变化  | 编号 | 备注|
|----------|----------|----------|----------|----------|----------|----------|----------|----------|----------|------|
| ResNet | <span style="color:black;">0.242</span> | <span style="color:black;">0.908</span> | <span style="color:black;">0.762</span> | <span style="color:black;">0.760</span> | <span style="color:black;">0.762</span> | <span style="color:black;">0.755</span> | <span style="color:black;">0.760</span> | baseline | L2 |单纯的ResNet|
| ResNet_HLFD1 | <span style="color:#FF6347;">0.541</span> | <span style="color:#4682B4;">0.783</span> | <span style="color:#FF4500;">0.800</span> | <span style="color:#FF4500;">0.797</span> | <span style="color:#FF4500;">0.800</span> | <span style="color:#FF6347;">0.798</span> | <span style="color:#FF4500;">0.799</span> | <span style="color:#FF6347;">0.156</span> | HLFD1 |将HLFD加入到ResNet的前向传播中，一共加了三层|
| ResNet_Bo_hlfd | <span style="color:#FF6347;">0.582</span> | <span style="color:#4682B4;">0.770</span> | <span style="color:#FF6347;">0.782</span> | <span style="color:#FF6347;">0.779</span> | <span style="color:#FF6347;">0.782</span> | <span style="color:#FF6347;">0.776</span> | <span style="color:#FF6347;">0.780</span> | <span style="color:#FF6347;">0.080</span> | 001 |将HLFD添加到主干网络中，但是只有layer1使用|
| resnet_Bo_hlfd1 | <span style="color:#FF6347;">0.515</span> | <span style="color:#4682B4;">0.801</span> | <span style="color:#FF0000;">0.822</span> | <span style="color:#FF0000;">0.818</span> | <span style="color:#FF0000;">0.822</span> | <span style="color:#FF0000;">0.819</span> | <span style="color:#FF0000;">0.820</span> | <span style="color:#FF0000;">0.242</span> | 003 |将HLFD加入到ResNet的前向传播中，一共加了三层，还将HLFD添加到主干网络中，但是只有layer1和layer2使用|
| resnet_Bo1_hlfd | <span style="color:#FF6347;">0.593</span> | <span style="color:#4682B4;">0.765</span> | <span style="color:#FF6347;">0.796</span> | <span style="color:#FF6347;">0.794</span> | <span style="color:#FF6347;">0.796</span> | <span style="color:#FF6347;">0.785</span> | <span style="color:#FF6347;">0.793</span> | <span style="color:#FF6347;">0.132</span> | 002 |将HLFD添加到主干网络中，但是只有layer1和layer2使用|
| resnet_Bo1_hlfd1 | <span style="color:#FF6347;">0.517</span> | <span style="color:#4682B4;">0.799</span> | <span style="color:#FF6347;">0.787</span> | <span style="color:#FF6347;">0.799</span> | <span style="color:#FF6347;">0.787</span> | <span style="color:#FF6347;">0.790</span> | <span style="color:#FF6347;">0.791</span> | <span style="color:#FF6347;">0.031</span> | 004 |将HLFD加入到ResNet的前向传播中，一共加了三层，还将HLFD添加到主干网络中，但是只有layer1和layer2使用|



