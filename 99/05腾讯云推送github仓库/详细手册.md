下面这份“一步到位”的手册，专门给已经有 GitHub 账号、VS Code 和待上传文件夹的同学。按顺序做就能把本地项目安全推到 GitHub；每一步都配了“为什么/怎么做/常见坑与修复”。（文末还有 VS Code 图形界面做法与加分项。）



# 一、准备工作（只做一次或很少做）

1. 安装 Git 并在终端确认

```bash
git --version
```

2. 设置提交签名（修复“Author identity unknown”）

```bash
git config --global user.name  "你的GitHub昵称"
git config --global user.email "你的GitHub邮箱"
git config --global init.defaultBranch main    # 默认主分支叫 main
```

若之前出现过截图里的报错，再执行一次上面两行即可解决。

3. 选择一种身份认证方式（GitHub 不再允许账号密码）

* **首选：Personal Access Token (PAT)**
  推送时当作“密码”输入；建议只勾 `repo` 权限，妥善保存。
* **或：SSH 密钥**
  生成密钥并把公钥加到 GitHub；远程地址用 `git@github.com:...`。

# 二、把本地文件夹变成 Git 仓库并提交

在你的项目根目录终端执行：

```bash
git init
git add .
git commit -m "Initial commit"
```

看到 “X files changed …” 等信息说明首个提交成功。

# 三、创建远程仓库并绑定

1. 在 GitHub 新建一个仓库（名字自定，Public/Private 均可）。

2. 复制仓库地址：

   * HTTPS：`https://github.com/<user>/<repo>.git`（配合 PAT）
   * SSH：`git@github.com:<user>/<repo>.git`（配合 SSH）

3. 绑定远程并设置上游：

```bash
git remote add origin <上面复制的地址>
git remote -v            # 核对 fetch/push 两行都正确
```

# 四、首次推送

> 如果远程是空仓库（没有 README/License 等），可直接：

```bash
git push -u origin main
```

`-u` 会把本地 `main` 与远程 `main` 关联，后续你只需 `git push`。

# 五、远程非空导致推送被拒绝的处理

如果你像截图那样遇到：

```
! [rejected] main -> main (fetch first)
error: failed to push some refs ...
```

说明**远程已有历史**，本地没包含它。先把远程拉下来再推：

```bash
git pull --rebase origin main   # 推荐用 rebase，历史更干净
# 若有冲突，按文件内 <<<<<<< ======= >>>>>>> 标记手动处理
git add <有冲突的文件>
git rebase --continue           # 直到 rebase 完成
git push -u origin main
```

如果你**确知**远程内容应被完全覆盖（仓库刚建但 GitHub 自动生成了 README，而你想用本地为准），可以谨慎：

```bash
git push -u origin main --force
```

（团队协作项目请勿随意强推。）

# 六、常见问题速修

1. **Author identity unknown / 无法识别身份**
   执行：

```bash
git config --global user.email "你的邮箱"
git config --global user.name  "你的昵称"
```

随后重新 `git commit -m "..."`。这正是你截图中修复的方法。

2. **main / master 不一致**

* 把本地 master 改名为 main：

  ```bash
  git branch -m main
  git push -u origin main
  ```
* 或将 master 推到远程的 main：

  ```bash
  git push -u origin master:main
  ```

3. **提示设置 upstream**

```bash
git push --set-upstream origin main
```

4. **Permission denied / 403**

* HTTPS：用 GitHub 用户名 + **PAT**（不是账号密码）。
* SSH：检查 `ssh -T git@github.com` 是否通过；若失败，补充/更换公钥。

5. **远程地址填错/想更换**

```bash
git remote set-url origin <新地址>
# 或
git remote remove origin
git remote add origin <新地址>
```

6. **远程有 README，本地也有不同 README，pull 产生冲突**
   按文件内冲突标记手动合并 → `git add` → `git commit`（或 `git rebase --continue`）→ `git push`。

# 七、日常开发循环（以后就用这三步）

```bash
git add -A
git commit -m "本次改动的清晰说明"
git push
```

# 八、用 VS Code 图形界面完成同样操作

1. 打开项目文件夹 → 左侧“源代码管理”面板（或 `Ctrl/Cmd+Shift+G`）。
2. 首次提交：输入消息 → 点“提交”。
3. 绑定远程：面板右上角“…” → 远程 → **添加远程**（填 GitHub 仓库地址，命名 `origin`）。
4. 推送：点击“同步更改/推送”。若弹出认证框，选择浏览器登录并授权（HTTPS+PAT）或用 SSH。
5. 之后改动会在面板显示，逐条暂存、提交、推送即可。

# 九、加分项（建议）

* **.gitignore**：避免把 `__pycache__/`, `.venv/`, `node_modules/`, 大型数据等推上去。

  ```bash
  npx gitignore python   # 或到 gitignore.io 生成
  ```
* **Git LFS**：单文件 >100MB 需要 LFS。
* **保护主分支**：仓库 Settings → Branches → 保护 `main`，要求 PR 合并。
* **README/License**：完善仓库首页与协议。
* **标签与发布**：

  ```bash
  git tag v1.0.0
  git push origin v1.0.0
  ```

---

需要我把以上步骤做成一张“速查清单”（一页 A4）或配图版吗？我可以直接整理好给你。
